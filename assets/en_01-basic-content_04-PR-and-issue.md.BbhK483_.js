import{_ as s,a as i,b as a,c as t,d as n,e as l,f as h,g as o,h as p}from"./chunks/image_20220719_154244.CK3f-Ai2.js";import{_ as r,c,o as d,aN as k}from"./chunks/framework.ClnKacJt.js";const w=JSON.parse('{"title":"Linkage maintenance of PR and issue","description":"","frontmatter":{"title":"Linkage maintenance of PR and issue","date":"2022-07-19T14:49:19.000Z"},"headers":[],"relativePath":"en/01-basic-content/04-PR-and-issue.md","filePath":"en/01-basic-content/04-PR-and-issue.md","lastUpdated":1768579861000}'),g={name:"en/01-basic-content/04-PR-and-issue.md"};function m(u,e,F,b,y,_){return d(),c("div",null,[...e[0]||(e[0]=[k('<h1 id="linkage-maintenance-of-pr-and-issue" tabindex="-1">Linkage maintenance of PR and issue <a class="header-anchor" href="#linkage-maintenance-of-pr-and-issue" aria-label="Permalink to &quot;Linkage maintenance of PR and issue&quot;">​</a></h1><p>When we need to solve a bug in a project, usually a new <code>PR</code> will be accompanied by an <code>issue</code>, this article will introduce only one operation when creating a <code>PR</code>, associate the <code>issue</code> , and then when the <code>PR</code> is approved, the corresponding associated &#39;issue&#39; will also be closed.</p><p>Again, I&#39;ll start by creating an <code>issue</code> in the sample project:</p><p><img src="'+s+`" alt="image_20220719_145415" loading="lazy"></p><p>In this case, as the project maintainer, we can directly click <code>Create a branch</code> in <code>Development</code> to create a fix branch, which will automatically associate the <code>issue</code>, and similarly, when the <code>PR</code> created by the fix branch is merged, the <code>issue </code>will be automatically closed.</p><p>However, this kind of scheme is not mentioned here, and you can experience it for yourself if you are interested</p><p>Here is our more common operation, in the local editor, based on the latest <code>main branch</code> cut out a <code>fix</code> branch, as follows:</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix_testbug</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Then there is the fix for the corresponding problem on the <code>fix_testbug</code> branch, which is not repeated.</p><p>When we feel that the fix is okay and have self-tested, we can commit this temporary branch:</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fix: test bug&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --set-upstream</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix_testbug</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>After pushing to the remote, we come to the GitHub page, at which point we can see that GitHub will automatically prompt a new branch to merge:</p><p><img src="`+i+'" alt="image_20220719_150429" loading="lazy"></p><p>You can directly click <code>Compare &amp; pull request</code>:</p><p><img src="'+a+'" alt="image_20220719_151051" loading="lazy"></p><p>Pay attention to the instructions in <code>Development</code> on the right, we can add some by adding some to the instructions<a href="https://docs.github.com/cn/issues/tracking-your-work-with-issues/linking-a-pull-request-to-an-issue" target="_blank" rel="noreferrer">keywords</a>，This associates the <code>issue</code> and triggers a shutdown. Of course, you can also create a PR first and then associate it:</p><p><img src="'+t+'" alt="image_20220719_151313" loading="lazy"></p><p>After completing the associated PR, you can see that there is a status display like this:</p><p><img src="'+n+'" alt="image_20220719_151423" loading="lazy"></p><p>At this time, we click on the <code>#21</code> <code>issue</code>, and we can also see that it is linked to the <code>PR</code>:</p><p><img src="'+l+'" alt="image_20220719_151547" loading="lazy"></p><p>Now we merge the <code>#23</code> <code>PR</code> , and after the merge, you can see that the associated <code>issue</code> has also been closed, and the temporary branch of the link has been deleted:</p><p><img src="'+h+`" alt="image_20220719_151825" loading="lazy"></p><p>The above is the linkage maintenance of <code>PR</code> and <code>issue</code> in project collaboration.</p><hr><p><strong>Other than that：</strong> A small point here, when we go through a PR process, as the main maintainer of the project, we usually switch back to the main branch again, and then pull the code that was merged into the main branch remotely:</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>After executing this way, you will find that the local code has exceeded the remote branch:</p><p><img src="`+o+`" alt="image_20220719_154112" loading="lazy"></p><p>Among them, 389fe is the ID of the current remote branch, we can execute the following command to align with the remote:</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --hard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin/main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HEAD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 389fe7b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (#23)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>In this way, the local and remote are aligned, and the next time you re-branch and then commit a PR, there will be no <code>several merges</code> like the above.</p><p>The illustration is as follows:</p><p><img src="`+p+'" alt="image_20220719_154244" loading="lazy"></p><p>Theoretically, there is only one commit this time, instead of 3 <code>commits</code>, which is why.</p>',35)])])}const B=r(g,[["render",m]]);export{w as __pageData,B as default};
