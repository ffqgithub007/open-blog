import{_ as a,a as i,b as e}from"./chunks/image_20220719_110613.D0q8oez9.js";import{_ as n,c as t,o as p,aN as l}from"./chunks/framework.ClnKacJt.js";const u=JSON.parse('{"title":"自动为README添加TOC目录","description":"","frontmatter":{"title":"自动为README添加TOC目录","date":"2022-07-18T17:23:23.000Z"},"headers":[],"relativePath":"02-github-actions/01-Automatically-add-TOC-directories-for-README.md","filePath":"02-github-actions/01-Automatically-add-TOC-directories-for-README.md","lastUpdated":1768579861000}'),r={name:"02-github-actions/01-Automatically-add-TOC-directories-for-README.md"};function o(d,s,c,h,k,E){return p(),t("div",null,[...s[0]||(s[0]=[l(`<h1 id="自动为readme添加toc目录" tabindex="-1">自动为README添加TOC目录 <a class="header-anchor" href="#自动为readme添加toc目录" aria-label="Permalink to &quot;自动为README添加TOC目录&quot;">​</a></h1><p>GitHub 的 Markdown 目前不支持直接<code>[TOC]</code>渲染文章的目录，有些 README 则需要这样的效果，可以借助外部工具进行生成，也可以借助  <code>GitHub Actions</code> 自动生成，本文就介绍这种方式。</p><p>所用 Actions：<a href="https://github.com/marketplace/actions/toc-generator" target="_blank" rel="noreferrer">TOC Generator</a></p><p>使用配置其实非常简单，基本上阅读完官方介绍文档就可以上手使用了，这里说一两个需要注意的地方。</p><p>首先需要在将要生成目录的文件内，指定目录生成位置，e.g. <code>README.md</code>，在要生成的地方添加如下内容：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;!-- START doctoc --&gt;</span></span>
<span class="line"><span>&lt;!-- END doctoc --&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>然后添加 Actions 配置文件，e.g. <code>.github/workflows/toc.yml</code>：</p><div class="language-yml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">push</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TOC Generator</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  generateTOC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TOC Generator</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">technote-space/toc-generator@v4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>接着需要调整下项目的 Actions 权限，在 GitHub 上点击<code>settings</code>--&gt; <code>actions</code> --&gt; <code>General</code> --&gt; <code>Workflow permissions</code> --&gt; 选择 <code>Read and write permissions</code>。</p><p><img src="`+a+'" alt="image_20220718_172340" loading="lazy"></p><p>配置调整完成之后，就可以 push 项目看效果了，当然这里也可以通过 GitHub_Token 的方式认证，就不赘述了。</p><p>效果呈现如下：</p><p><img src="'+i+'" alt="image_20220719_110310" loading="lazy"></p><p><code>配置列表：</code><a href="https://github.com/marketplace/actions/toc-generator#options" target="_blank" rel="noreferrer">点我查看</a></p><p>可根据自己的实际需求以及情况进行配置！</p><h2 id="另外" tabindex="-1">另外 <a class="header-anchor" href="#另外" aria-label="Permalink to &quot;另外&quot;">​</a></h2><p>后来在一个地方学到了一招，原来 GitHub 针对 Markdown 文件已经默认支持了目录的方式，并且还支持搜索，如下：</p><p><img src="'+e+'" alt="image_20220719_110613" loading="lazy"></p>',18)])])}const b=n(r,[["render",o]]);export{u as __pageData,b as default};
