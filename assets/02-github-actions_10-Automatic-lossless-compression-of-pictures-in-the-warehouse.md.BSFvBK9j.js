import{_ as i,a}from"./chunks/image_20220801_234504.Db5kVWG-.js";import{_ as n,c as p,o as l,aN as e}from"./chunks/framework.ClnKacJt.js";const u=JSON.parse('{"title":"è‡ªåŠ¨å¯¹ä»“åº“å†…å›¾ç‰‡è¿›è¡Œæ— æŸå‹ç¼©","description":"","frontmatter":{"title":"è‡ªåŠ¨å¯¹ä»“åº“å†…å›¾ç‰‡è¿›è¡Œæ— æŸå‹ç¼©","date":"2022-08-01T23:42:55.000Z"},"headers":[],"relativePath":"02-github-actions/10-Automatic-lossless-compression-of-pictures-in-the-warehouse.md","filePath":"02-github-actions/10-Automatic-lossless-compression-of-pictures-in-the-warehouse.md","lastUpdated":1768579861000}'),t={name:"02-github-actions/10-Automatic-lossless-compression-of-pictures-in-the-warehouse.md"};function h(k,s,r,E,c,d){return l(),p("div",null,[...s[0]||(s[0]=[e(`<h1 id="è‡ªåŠ¨å¯¹ä»“åº“å†…å›¾ç‰‡è¿›è¡Œæ— æŸå‹ç¼©" tabindex="-1">è‡ªåŠ¨å¯¹ä»“åº“å†…å›¾ç‰‡è¿›è¡Œæ— æŸå‹ç¼© <a class="header-anchor" href="#è‡ªåŠ¨å¯¹ä»“åº“å†…å›¾ç‰‡è¿›è¡Œæ— æŸå‹ç¼©" aria-label="Permalink to &quot;è‡ªåŠ¨å¯¹ä»“åº“å†…å›¾ç‰‡è¿›è¡Œæ— æŸå‹ç¼©&quot;">â€‹</a></h1><p>æˆ‘ç»´æŠ¤çš„ <a href="https://github.com/eryajf/awesome-github-profile-readme-chinese" target="_blank" rel="noreferrer">awesome-github-profile-readme-chinese</a> é¡¹ç›®æ—¨åœ¨æ”¶é›†æ±‡æ€»ä¸­æ–‡åŒºä¼˜ç§€çš„ä¸ªäººä¸»é¡µï¼Œæ¯ä¸ªäººçš„ä¸»é¡µå°†ä¼šé€šè¿‡æˆªå›¾çš„æ–¹å¼å­˜æ”¾åœ¨ exampls ç›®å½•ä¸‹ï¼Œæœ‰æ—¶å€™æœ‰çš„æœ‹å‹ä¸»é¡µå†…å®¹å¾ˆå¤šï¼Œè¿™æ ·æ•´ä½“æˆªå›¾ä¸‹æ¥å°±éå¸¸å¤§ã€‚</p><p>æœ¬æ–‡å°±ä»‹ç»ä¸€ä¸ªæœ‰æ„æ€çš„å°åŠ¨ä½œï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯å¯ä»¥è‡ªåŠ¨æ‰«æä»“åº“å†…çš„å›¾ç‰‡ï¼Œç„¶åå¯¹å…¶è¿›è¡Œå‡ ä¹æ— æŸçš„å‹ç¼©ï¼Œè®©æ•´ä¸ªä»“åº“çš„ä½“ç§¯ä¿æŒåœ¨ä¸€ä¸ªç›¸å¯¹ä½çš„æ°´å¹³ã€‚</p><p>æ‰€ç”¨ Actionsï¼š<a href="https://github.com/calibreapp/image-actions" target="_blank" rel="noreferrer">image-actions</a></p><p>ä½¿ç”¨é…ç½®å…¶å®éå¸¸ç®€å•ï¼ŒåŸºæœ¬ä¸Šé˜…è¯»å®Œå®˜æ–¹ä»‹ç»æ–‡æ¡£å°±å¯ä»¥ä¸Šæ‰‹ä½¿ç”¨äº†ï¼Œè¿™é‡Œè¯´ä¸€ä¸¤ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚</p><p>é¦–å…ˆæ·»åŠ  Actions é…ç½®æ–‡ä»¶ï¼Œe.g.Â <code>.github/workflows/images.yml</code>ï¼š</p><div class="language-yml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">å‹ç¼©å›¾ç‰‡</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;**.jpg&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;**.jpeg&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;**.png&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;**.webp&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  workflow_dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">calibreapp/image-actions</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Checkout Repo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Compress Images</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">calibre</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">calibreapp/image-actions@main</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          githubToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ secrets.GITHUB_TOKEN }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          compressOnly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          jpegQuality</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;60&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          jpegProgressive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          pngQuality</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;60&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          webpQuality</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;60&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Create New Pull Request If Needed</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">steps.calibre.outputs.markdown != &#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">peter-evans/create-pull-request@v3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ğŸ›  å‹ç¼©å›¾ç‰‡&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          branch-suffix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">timestamp</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          commit-message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ğŸ›  å‹ç¼©å›¾ç‰‡&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ steps.calibre.outputs.markdown }}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>éœ€è¦æ³¨æ„ï¼Œå‹ç¼©å›¾ç‰‡çš„åŠ¨ä½œï¼Œåœ¨è¿è¡Œä¹‹åï¼Œä¼šè‡ªåŠ¨å°†å›¾ç‰‡äºŒæ¬¡ commit ä¸Šæ¥ï¼Œè¿™å°±è¦æ±‚è¯¥åŠ¨ä½œå…·æœ‰å¯¹åº” commit çš„æƒé™æ‰è¡Œï¼Œé€šå¸¸æˆ‘ä»¬é…ç½®çš„ token æ²¡æœ‰å…¶ä»–å¼€å‘è€… fork ä¹‹åçš„ä»“åº“çš„æƒé™ï¼Œäºæ˜¯è¿™é‡Œå¹¶ä¸èƒ½ç›´æ¥å¤„ç†å…¶ä»–äºº PR è¿‡æ¥çš„å†…å®¹ä¸­çš„å›¾ç‰‡ã€‚</p><p>å®˜æ–¹ç»™å‡ºçš„å»ºè®®æ˜¯ï¼š</p><ul><li>è¦ä¹ˆå…¶ä»–å¼€å‘è€…é€šè¿‡åœ¨ä¸»ä»“åº“ check ä¸€ä¸ªåˆ†æ”¯ï¼Œç„¶ååœ¨ä¸»ä»“åº“è¿›è¡Œåˆ†æ”¯çš„ PRã€‚ä½†è¿™ç§æ–¹å¼å…¶å®å¹¶éæ˜¯ GitHub ä¸­åä½œçš„ä¸»æµåœºæ™¯ï¼Œå¤šç”¨åœ¨å¼€å‘è€…ä¸ªäººç»´æŠ¤çš„æµç¨‹ã€‚</li><li>è¦ä¹ˆå°±æ˜¯å…ˆå¤„ç†å…¶ä»–äººé€šè¿‡ fork çš„æ–¹å¼æäº¤ä¸Šæ¥çš„ PRï¼Œå½“ PR è¢«åŒæ„ä¹‹åï¼Œä¼šè‡ªåŠ¨è¿›è¡Œæ‰«ææ£€æŸ¥ï¼Œç„¶åè¯¥åŠ¨ä½œå®Œæˆå›¾ç‰‡å‹ç¼©ä¹‹åï¼Œå†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ PRï¼Œæ¥å®Œæˆå›¾ç‰‡çš„å‹ç¼©ã€‚</li></ul><p>è¿˜éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šå…¶ä¸­çš„ <code>secrets.GITHUB_TOKEN</code>æ˜¯æ“ä½œå½“å‰ä»“åº“ä½¿ç”¨çš„ï¼Œä¸éœ€è¦è¿›è¡Œæ›´æ”¹ï¼Œå¦‚æœæ”¹äº†ï¼Œåè€Œä¼šæŠ¥é”™ã€‚</p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="`+i+'" alt="image_20220801_234434" loading="lazy"></p><p>è¿™ä¸ªåŠ¨ä½œä¼šè‡ªåŠ¨å°†å›¾ç‰‡å¤„ç†å¥½ï¼Œç„¶åæäº¤åˆ°å½“æ¬¡ PR ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å¼€ View diff æŸ¥çœ‹å‰åçš„åŒºåˆ«ï¼š</p><p><img src="'+a+'" alt="image_20220801_234504" loading="lazy"></p><p>ç›®å‰è¿™ä¸ªæ•ˆæœæ®æˆ‘ä¸ªäººæ”¾å¤§å‰åä¸¤å¼ ç…§ç‰‡æ¥çœ‹ï¼Œåœ¨ä½“ç§¯ç¼©å°äº† 80%çš„æƒ…å†µä¸‹ï¼Œæ¸…æ™°åº¦å‡ ä¹æ˜¯ä¸€è‡´çš„ï¼Œè¿˜æ˜¯éå¸¸ç»™åŠ›çš„ä¸€ä¸ªåŠ¨ä½œï¼Œé€‚åˆé‚£äº›å­˜æ”¾å›¾ç‰‡æ¯”è¾ƒå¤šçš„ä»“åº“ã€‚</p>',16)])])}const y=n(t,[["render",h]]);export{u as __pageData,y as default};
