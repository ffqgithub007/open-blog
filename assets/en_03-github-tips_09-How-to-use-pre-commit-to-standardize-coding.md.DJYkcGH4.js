import{_ as i,c as a,o as e,aN as n}from"./chunks/framework.ClnKacJt.js";const c=JSON.parse('{"title":"Standardized coding using pre-commit to add pre-commit checks to projects","description":"","frontmatter":{"title":"Standardized coding using pre-commit to add pre-commit checks to projects","date":"2023-02-26T13:28:10.000Z"},"headers":[],"relativePath":"en/03-github-tips/09-How-to-use-pre-commit-to-standardize-coding.md","filePath":"en/03-github-tips/09-How-to-use-pre-commit-to-standardize-coding.md","lastUpdated":1768579861000}'),t={name:"en/03-github-tips/09-How-to-use-pre-commit-to-standardize-coding.md"};function l(p,s,r,h,k,o){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="standardized-coding-using-pre-commit-to-add-pre-commit-checks-to-projects" tabindex="-1">Standardized coding using pre-commit to add pre-commit checks to projects <a class="header-anchor" href="#standardized-coding-using-pre-commit-to-add-pre-commit-checks-to-projects" aria-label="Permalink to &quot;Standardized coding using pre-commit to add pre-commit checks to projects&quot;">â€‹</a></h1><h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to &quot;å‰è¨€&quot;">â€‹</a></h2><p>æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸è®ºæ˜¯å“ªä¸ªè¯­è¨€ï¼Œä¸€å®šéƒ½ä¼šæœ‰ç›¸å¯¹åº”çš„è¯­æ³•æ£€æµ‹å·¥å…·æˆ–è€…æ‰‹æ®µæ¥è¾…åŠ©æˆ‘ä»¬æ£€æŸ¥å‡ºç¼–ç è¿‡ç¨‹ä¸­çš„ä¸€äº›é—æ¼æˆ–ç–å¿½ã€‚ä½†æœ‰æ—¶å€™ä¼šæœ‰ä¸€ä¸ªå°´å°¬çš„æƒ…å†µå°±æ˜¯ï¼ŒæŠŠæ£€æµ‹çš„æ–¹å¼é…ç½®ä¸Šå»äº†ï¼Œå´æ²¡æœ‰è¿è¡Œï¼Œæœ€åæˆäº†æ‘†è®¾ã€‚</p><p>ä»Šå¤©æ¥ä»‹ç»ä¸€ä¸ªå·¥å…·ï¼Œèƒ½å¤Ÿå®Œæˆåœ¨ä»£ç æäº¤ä¹‹å‰è¿è¡ŒæŒ‡å®šæ£€æµ‹ï¼Œä»è€Œå®ç°ä»£ç çš„è‡ªæ£€ã€‚</p><ul><li>é¡¹ç›®ï¼š<a href="https://github.com/pre-commit/pre-commit" target="_blank" rel="noreferrer">pre-commit</a></li><li>å®˜ç½‘ï¼š <a href="https://pre-commit.com/" target="_blank" rel="noreferrer">https://pre-commit.com/</a></li><li>å¼€ç®±å³ç”¨ï¼š<a href="https://github.com/pre-commit/pre-commit-hooks" target="_blank" rel="noreferrer">pre-commit-hooks</a></li></ul><p>pre-commit çš„è¿è¡Œæœºåˆ¶å€ŸåŠ©äº git hook æ¥å®Œæˆæäº¤ä¹‹å‰çš„ä¸€äº›é¢„å®šä¹‰æŒ‡ä»¤çš„è¿è¡Œï¼Œæ¥è¾¾åˆ°æäº¤å‰æ£€æµ‹çš„ç›®çš„ã€‚</p><h2 id="å…³äºgit-hook" tabindex="-1">å…³äºgit hook <a class="header-anchor" href="#å…³äºgit-hook" aria-label="Permalink to &quot;å…³äºgit hook&quot;">â€‹</a></h2><p>Git èƒ½åœ¨ç‰¹å®šçš„é‡è¦åŠ¨ä½œå‘ç”Ÿæ—¶è§¦å‘è‡ªå®šä¹‰è„šæœ¬é’©å­ã€‚é’©å­åˆ†ä¸ºä¸¤ç»„ï¼š</p><ul><li>å®¢æˆ·ç«¯é’©å­ï¼š<code>pre-commit</code>, <code>prepare-commit-msg</code>, <code>commit-msg</code>, <code>post-commit</code> ç­‰ï¼Œä¸»è¦åœ¨æœåŠ¡ç«¯æ¥æ”¶æäº¤å¯¹è±¡æ—¶ã€æ¨é€åˆ°æœåŠ¡å™¨ä¹‹å‰è°ƒç”¨ã€‚</li><li>æœåŠ¡å™¨é’©å­ï¼š<code>pre-receive</code>, <code>post-receive</code>, <code>update</code> ç­‰ï¼Œä¸»è¦åœ¨æœåŠ¡ç«¯æ¥æ”¶æäº¤å¯¹è±¡æ—¶ã€æ¨é€åˆ°æœåŠ¡å™¨ä¹‹å‰è°ƒç”¨ã€‚</li></ul><p>git hooks ä½ç½®ä½äºæ¯ä¸ª git é¡¹ç›®ä¸‹çš„ <code>.git/hooks</code> ç›®å½•é‡Œï¼Œè¿›å»åä¼šçœ‹åˆ°è¿™äº›é’©å­çš„å®˜æ–¹ç¤ºä¾‹ï¼Œéƒ½æ˜¯ä»¥ <code>.sample</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œè¿™äº›ç¤ºä¾‹è„šæœ¬æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œå»æ‰ <code>.sample</code> åç¼€å¯æ¿€æ´»è¯¥é’©å­è„šæœ¬ã€‚</p><blockquote><p>PSï¼šGIt hooks çš„æ¯ä¸ªé’©å­çš„ä½œç”¨å’Œè¯´æ˜ï¼Œè¯¦ç»†çš„ä»¥å®˜æ–¹æ–‡æ¡£ä¸ºå‡†ï¼š <a href="https://git-scm.com/docs/githooks" target="_blank" rel="noreferrer">https://git-scm.com/docs/githooks</a></p></blockquote><p><img src="http://t.eryajf.net/imgs/2023/02/b521f43dba90f43b.jpg" alt="" loading="lazy"></p><h2 id="å®‰è£…ä½“éªŒ" tabindex="-1">å®‰è£…ä½“éªŒ <a class="header-anchor" href="#å®‰è£…ä½“éªŒ" aria-label="Permalink to &quot;å®‰è£…ä½“éªŒ&quot;">â€‹</a></h2><h3 id="å®‰è£…" tabindex="-1">å®‰è£… <a class="header-anchor" href="#å®‰è£…" aria-label="Permalink to &quot;å®‰è£…&quot;">â€‹</a></h3><p>pre-commit æ˜¯ä¸€ä¸ª Python è¯­è¨€å†™çš„å·¥å…·ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤èƒ½å¤Ÿè½»æ¾å®‰è£…è¯¥å·¥å…·ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-commit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pre-commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.1.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å¦‚æœè¿™æ¡å‘½ä»¤è¿è¡Œæ²¡æœ‰é—®é¢˜ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</p><h3 id="é…ç½®" tabindex="-1">é…ç½® <a class="header-anchor" href="#é…ç½®" aria-label="Permalink to &quot;é…ç½®&quot;">â€‹</a></h3><p>ç°åœ¨æˆ‘æ‹¿ <a href="https://github.com/eryajf/learn-github" target="_blank" rel="noreferrer">learn-github</a> é¡¹ç›®æ¥ä½œä¸ºç¤ºä¾‹è¿›è¡Œä½“éªŒã€‚</p><p>pre-commit ä»¥ <code>.pre-commit-config.yaml</code> æ–‡ä»¶ä½œä¸ºé»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ç”Ÿæˆç®€å•çš„é…ç½®å†…å®¹ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sample-config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .pre-commit-config.yaml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æŸ¥çœ‹ä¸€ä¸‹é…ç½®æ–‡ä»¶çš„å†…å®¹ä¿¡æ¯ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .pre-commit-config.yaml</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># See https://pre-commit.com for more information</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># See https://pre-commit.com/hooks.html for more hooks</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">repos:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   repo:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/pre-commit/pre-commit-hooks</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    rev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v4.4.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    hooks:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   id:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trailing-whitespace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   id:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> end-of-file-fixer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   id:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check-yaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   id:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check-added-large-files</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>reposï¼šè¡¨ç¤ºä¸€ç³»åˆ—ä»“åº“çš„æ˜ å°„ã€‚ <ul><li>repoï¼šè¡¨ç¤ºæ¥ä¸‹æ¥ä½¿ç”¨çš„ hooks è„šæœ¬ä»å“ªä¸ªä»“åº“è¿›è¡Œæ‹‰å–ã€‚</li><li>revï¼šæŒ‡å®šå°†è¦æ‹‰å–çš„ tag ã€‚</li><li>hooksï¼šé’©å­è„šæœ¬åˆ—è¡¨ï¼Œè¿™äº›è„šæœ¬æ¥è‡ªäº repo å®šä¹‰çš„ä»“åº“ä¸­ã€‚ <ul><li>idï¼šæŒ‡å®šå°†è¦åº”ç”¨çš„é’©å­çš„åç§°ï¼Œå°±æ˜¯å¯¹åº”çš„æ–‡ä»¶åã€‚</li></ul></li></ul></li></ul><p>å…¶ä¸­ hooks è¿˜æœ‰æ›´åŠ ä¸°å¯Œçš„é…ç½®ä¿¡æ¯ï¼Œè¿™é‡Œæš‚ä¸å±•å¼€ï¼Œéšåå†è¿›è¡Œå®Œæ•´ä»‹ç»ã€‚</p><p>ç®€å•è§£é‡Šä¸‹å¦‚ä¸Šé…ç½®æ–‡ä»¶çš„æ„æ€ï¼šåœ¨ä»£ç æäº¤ä¹‹å‰ï¼Œä¼šè¿è¡Œ hooks åˆ—è¡¨ä¸­çš„è¿™äº›æ£€æŸ¥ï¼Œè¿™äº›è„šæœ¬æ¥è‡ªäº <code>https://github.com/pre-commit/pre-commit-hooks</code> è¿™ä¸ªä»“åº“çš„ <code>v4.4.0</code>ã€‚å››ä¸ªæ£€æŸ¥è„šæœ¬çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li><code>trailing-whitespace</code> ï¼šæ£€æŸ¥ä¿®å»ºè¡Œå°¾çš„ç©ºæ ¼</li><li><code>end-of-file-fixer</code> ï¼šç¡®ä¿æ–‡ä»¶ä»¥æ¢è¡Œç¬¦ç»“å°¾ä¸”ä»…ä»¥æ¢è¡Œç¬¦ç»“å°¾ã€‚</li><li><code>check-yaml</code> ï¼šæ£€æŸ¥ yaml æ–‡ä»¶çš„è¯­æ³•ã€‚</li><li><code>check-added-large-files</code> ï¼šé˜²æ­¢æäº¤å¤§æ–‡ä»¶ã€‚(é»˜è®¤æ£€æµ‹é˜ˆå€¼ä¸º 500KB)</li></ul><h3 id="è¿è¡Œ" tabindex="-1">è¿è¡Œ <a class="header-anchor" href="#è¿è¡Œ" aria-label="Permalink to &quot;è¿è¡Œ&quot;">â€‹</a></h3><p>æ‰§è¡Œ <code>pre-commit run --all-files</code> å‘½ä»¤ï¼Œå¯ä»¥æ‰‹åŠ¨è¿è¡Œ pre-commit çš„æ£€æŸ¥ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all-files</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[INFO] Initializing environment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://github.com/pre-commit/pre-commit-hooks.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[INFO] Installing environment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://github.com/pre-commit/pre-commit-hooks.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[INFO] Once installed this environment will be reused.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[INFO] This may take a few minutes...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Trim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Trailing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Whitespace.................................................Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Fix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Files.........................................................Failed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hook</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> id:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> end-of-file-fixer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> code:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> were</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modified</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hook</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Fixing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> workflows-tested/rss.yml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Yaml...............................................................Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> added</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> large</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files..............................................Passed</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>ğŸ“¢æ³¨æ„ï¼š</code> é’©å­æ·»åŠ å®Œæ¯•ä¹‹åï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œpre-commit åªä¼šæ£€æµ‹å½“æ¬¡å˜æ›´äº†çš„æ–‡ä»¶ï¼Œå› æ­¤ä¸€èˆ¬å»ºè®®åœ¨æ·»åŠ ä¹‹åï¼Œè¿è¡Œä¸€æ¬¡é’ˆå¯¹é¡¹ç›®çš„å…¨é¢æ£€æµ‹ã€‚</p><p>å¦‚ä¸Šå†…å®¹è¡¨ç¤ºè¿è¡Œ <code>Fix End of Files</code> è¿™ä¸ªè„šæœ¬çš„æ—¶å€™å‘ç°æœ‰ä¸ç¬¦åˆæ£€æµ‹è§„èŒƒçš„å†…å®¹ï¼Œç„¶åè‡ªåŠ¨ fix æ‰äº†ï¼Œè¿™äº›æ£€æµ‹è„šæœ¬éƒ½æ˜¯æ ¹æ®ä¸ªäººéœ€æ±‚æŒ‰éœ€åŠ è½½ï¼Œå› æ­¤è¿™é‡Œæˆ‘å°±æŠŠè¿™ä¸ªè„šæœ¬å»æ‰äº†ã€‚</p><h3 id="å®‰è£…-1" tabindex="-1">å®‰è£… <a class="header-anchor" href="#å®‰è£…-1" aria-label="Permalink to &quot;å®‰è£…&quot;">â€‹</a></h3><p>ä¸Šè¾¹æ˜¯æ‰‹åŠ¨è¿è¡Œçš„ï¼Œæˆ‘ä»¬è¿˜åº”è¯¥è¿è¡Œä¸€ä¸‹å®‰è£…å‘½ä»¤ï¼ŒæŠŠ pre-commit çš„é…ç½®æ–‡ä»¶åŠ è½½åˆ° git hooks å½“ä¸­ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pre-commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> installed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .git/hooks/pre-commit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>è¿™ä¸ªæ—¶å€™ï¼Œå†æ¬¡è¿è¡Œå¸¸è§„çš„æäº¤æ­¥éª¤å°±ä¼šè§¦å‘æ£€æµ‹äº†ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcmsg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;æ·»åŠ pre commit&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[INFO] Initializing environment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://github.com/pre-commit/pre-commit-hooks.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[INFO] Installing environment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://github.com/pre-commit/pre-commit-hooks.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[INFO] Once installed this environment will be reused.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[INFO] This may take a few minutes...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trailing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> whitespace.................................................Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yaml...............................................................Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> added</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> large</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files..............................................Passed</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[main aeb4728] æ·»åŠ pre commit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> insertions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mode</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100644</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .pre-commit-config.yaml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="go-é¡¹ç›®å®è·µ" tabindex="-1">Go é¡¹ç›®å®è·µ <a class="header-anchor" href="#go-é¡¹ç›®å®è·µ" aria-label="Permalink to &quot;Go é¡¹ç›®å®è·µ&quot;">â€‹</a></h2><p>ä»¥ä¸Šå†…å®¹ä»‹ç»äº† pre-commit çš„ç®€å•é…ç½®ä»¥åŠä½¿ç”¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æµ‹è¯•ä¸€ä¸ª go é¡¹ç›®çš„å®è·µã€‚</p><p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ å¦‚ä¸‹é…ç½®æ–‡ä»¶ <code>.pre-commit-config.yaml</code> ï¼š</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">repos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-   </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">repo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://github.com/pre-commit/pre-commit-hooks</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    rev</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">v4.4.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    hooks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">check-yaml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">trailing-whitespace</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">check-added-large-files</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-   </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">repo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://github.com/golangci/golangci-lint</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # golangci-lint hook repo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    rev</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">v1.47.3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # golangci-lint hook repo revision</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    hooks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">golangci-lint</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">golangci-lint</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Fast linters runner for Go.</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">golangci-lint run --fix</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      types</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">go</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      language</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">golang</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      pass_filenames</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ç„¶åè¿è¡Œå¦‚ä¸‹å‘½ä»¤å°† hooks è½½å…¥åˆ° git é…ç½®æ–‡ä»¶ä¸­ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pre-commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> installed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .git/hooks/pre-commit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ç„¶åå°†ä»£ç æŸå¤„çš„ err é”™è¯¯å¿½ç•¥ä¸åšå¤„ç†ï¼Œæ­¤æ—¶æäº¤ä»£ç çœ‹çœ‹æ˜¯å¦ä¼šæ£€æŸ¥ï¼š</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcmsg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;test pre check&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Yaml...............................................................Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Trim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Trailing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Whitespace.................................................Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> added</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> large</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files..............................................Passed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">golangci-lint............................................................Failed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hook</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> id:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> golangci-lint</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> code:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config/config.go:30:11:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ineffectual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> assignment</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ineffassign)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        workDir,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> err</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> os.Getwd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                 ^</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>å¦‚æ­¤å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„æäº¤å‰çš„ lint æ£€æŸ¥ï¼Œä¸€äº›ç®€å•çš„è¯­æ³•é—®é¢˜å°±èƒ½åœ¨è¿™é‡ŒæŠ›å‡ºæ¥äº†ã€‚</p><p>å…¶ä»–è¯­è¨€åŒç†ï¼Œpre-commit å®˜æ–¹æä¾›äº†å¤§é‡æ£€æµ‹è„šæœ¬é›†æˆï¼Œå„è¯­è¨€éƒ½æœ‰ï¼Œå¤§å®¶å¯æŒ‰éœ€è¿›è¡Œäº†è§£ä½¿ç”¨ã€‚</p><h2 id="è¡¥å……" tabindex="-1">è¡¥å…… <a class="header-anchor" href="#è¡¥å……" aria-label="Permalink to &quot;è¡¥å……&quot;">â€‹</a></h2><h3 id="hooks-é…ç½®æ–‡ä»¶" tabindex="-1">hooks é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#hooks-é…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;hooks é…ç½®æ–‡ä»¶&quot;">â€‹</a></h3><p>å†…å®¹æ‘˜è‡ªå®˜æ–¹æ–‡æ¡£ï¼š</p><table tabindex="0"><thead><tr><th><a href="https://pre-commit.com/#hooks-id" target="_blank" rel="noreferrer"><code>id</code></a></th><th>é’©å­çš„ id - åœ¨ pre-commit-config.yaml ä¸­ä½¿ç”¨ã€‚</th></tr></thead><tbody><tr><td><a href="https://pre-commit.com/#hooks-name" target="_blank" rel="noreferrer"><code>name</code></a></td><td>æŒ‚é’©çš„åç§° - åœ¨æŒ‚é’©æ‰§è¡ŒæœŸé—´æ˜¾ç¤ºã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-entry" target="_blank" rel="noreferrer"><code>entry</code></a></td><td>å…¥å£ç‚¹ - è¦è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ <code>entry</code> è¿˜å¯ä»¥åŒ…å«ä¸ä¼šè¢«è¦†ç›–çš„å‚æ•°ï¼Œä¾‹å¦‚ <code>entry: autopep8 -i</code>.</td></tr><tr><td><a href="https://pre-commit.com/#hooks-language" target="_blank" rel="noreferrer"><code>language</code></a></td><td>é’©å­çš„è¯­è¨€ - å‘Šè¯‰é¢„æäº¤å¦‚ä½•å®‰è£…é’©å­ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-files" target="_blank" rel="noreferrer"><code>files</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>&#39;&#39;</code>ï¼‰è¦è¿è¡Œçš„æ–‡ä»¶æ¨¡å¼ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-exclude" target="_blank" rel="noreferrer"><code>exclude</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>^$</code>ï¼‰æ’é™¤åŒ¹é…çš„æ–‡ä»¶ <a href="https://pre-commit.com/#hooks-files" target="_blank" rel="noreferrer"><code>files</code></a>ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-types" target="_blank" rel="noreferrer"><code>types</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>[file]</code>ï¼‰è¦è¿è¡Œçš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ï¼ˆANDï¼‰ã€‚è¯·å‚é˜… <a href="https://pre-commit.com/#filtering-files-with-types" target="_blank" rel="noreferrer">ä½¿ç”¨ç±»å‹è¿‡æ»¤æ–‡ä»¶</a>ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-types_or" target="_blank" rel="noreferrer"><code>types_or</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>[]</code>ï¼‰è¦è¿è¡Œçš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ï¼ˆæˆ–ï¼‰ã€‚è¯·å‚é˜… <a href="https://pre-commit.com/#filtering-files-with-types" target="_blank" rel="noreferrer">ä½¿ç”¨ç±»å‹è¿‡æ»¤æ–‡ä»¶</a>ã€‚ <em>2.9.0 ä¸­çš„æ–°åŠŸèƒ½</em>ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-exclude_types" target="_blank" rel="noreferrer"><code>exclude_types</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>[]</code>ï¼‰è¦æ’é™¤çš„æ–‡ä»¶æ¨¡å¼ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-always_run" target="_blank" rel="noreferrer"><code>always_run</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>false</code>ï¼‰å³ä½¿ <code>true</code> æ²¡æœ‰åŒ¹é…çš„æ–‡ä»¶ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šè¿è¡Œã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-fail_fast" target="_blank" rel="noreferrer"><code>fail_fast</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>false</code>ï¼‰å¦‚æœ <code>true</code> æ­¤æŒ‚é’©å¤±è´¥ï¼Œé¢„æäº¤å°†åœæ­¢è¿è¡ŒæŒ‚é’©ã€‚ <em>2.16.0 ä¸­çš„æ–°åŠŸèƒ½</em>ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-verbose" target="_blank" rel="noreferrer"><code>verbose</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>false</code>ï¼‰å¦‚æœ <code>true</code>ï¼Œå³ä½¿æŒ‚é’©é€šè¿‡ï¼Œä¹Ÿå¼ºåˆ¶æ‰“å°æŒ‚é’©çš„è¾“å‡ºã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-pass_filenames" target="_blank" rel="noreferrer"><code>pass_filenames</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>true</code>ï¼‰å¦‚æœ <code>false</code> æ²¡æœ‰æ–‡ä»¶åå°†ä¼ é€’ç»™æŒ‚é’©ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-require_serial" target="_blank" rel="noreferrer"><code>require_serial</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>false</code>ï¼‰å¦‚æœ <code>true</code> è¿™ä¸ªé’©å­å°†ä½¿ç”¨å•ä¸ªè¿›ç¨‹è€Œä¸æ˜¯å¹¶è¡Œæ‰§è¡Œã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-description" target="_blank" rel="noreferrer"><code>description</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>&#39;&#39;</code>ï¼‰é’©å­çš„æè¿°ã€‚ä»…ç”¨äºå…ƒæ•°æ®ç›®çš„ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-language_version" target="_blank" rel="noreferrer"><code>language_version</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>default</code>ï¼‰è¯·å‚é˜… <a href="https://pre-commit.com/#overriding-language-version" target="_blank" rel="noreferrer">è¦†ç›–è¯­è¨€ç‰ˆæœ¬</a>ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-minimum_pre_commit_version" target="_blank" rel="noreferrer"><code>minimum_pre_commit_version</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>&#39;0&#39;</code>ï¼‰å…è®¸ä¸€ä¸ªäººæŒ‡ç¤ºæœ€ä½å…¼å®¹çš„é¢„æäº¤ç‰ˆæœ¬ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-args" target="_blank" rel="noreferrer"><code>args</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ <code>[]</code>ï¼‰è¦ä¼ é€’ç»™æŒ‚é’©çš„é™„åŠ å‚æ•°åˆ—è¡¨ã€‚</td></tr><tr><td><a href="https://pre-commit.com/#hooks-stages" target="_blank" rel="noreferrer"><code>stages</code></a></td><td>ï¼ˆå¯é€‰ï¼šé»˜è®¤ï¼ˆæ‰€æœ‰é˜¶æ®µï¼‰ï¼‰å°†æŒ‚é’©é™åˆ¶åœ¨ <code>commit</code>ã€<code>merge-commit</code>ã€ <code>push</code>ã€<code>prepare-commit-msg</code>ã€<code>commit-msg</code>ã€<code>post-checkout</code>ã€<code>post-commit</code>ã€ <code>post-merge</code>ã€<code>post-rewrite</code> å’Œ/æˆ– <code>manual</code> é˜¶æ®µã€‚è¯·å‚é˜… <a href="https://pre-commit.com/#confining-hooks-to-run-at-certain-stages" target="_blank" rel="noreferrer">é™åˆ¶æŒ‚é’©åœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œ</a>ã€‚</td></tr></tbody></table><h3 id="å…¶ä»–å†…å®¹å¿«é“¾" tabindex="-1">å…¶ä»–å†…å®¹å¿«é“¾ <a class="header-anchor" href="#å…¶ä»–å†…å®¹å¿«é“¾" aria-label="Permalink to &quot;å…¶ä»–å†…å®¹å¿«é“¾&quot;">â€‹</a></h3><p>å¤§éƒ¨åˆ†å†…å®¹å®˜æ–¹æ–‡æ¡£å·²ç»ä»‹ç»çš„å¾ˆå¥½ï¼Œè¿™é‡Œä¸å†é‡å¤ä»‹ç»ï¼ŒæŠŠç›¸å…³çš„å†…å®¹å¿«é“¾å¦‚ä¸‹ï¼š</p><ul><li><a href="https://pre-commit.com/#automatically-enabling-pre-commit-on-repositories" target="_blank" rel="noreferrer">å¦‚ä½•è®¾ç½®é»˜è®¤å¯ç”¨</a></li><li><a href="https://pre-commit.com/#supported-languages" target="_blank" rel="noreferrer">æ”¯æŒçš„è¯­è¨€</a></li><li><a href="https://pre-commit.com/#filtering-files-with-types" target="_blank" rel="noreferrer">æŒ‰ç±»å‹è¿‡æ»¤æ–‡ä»¶</a></li><li><a href="https://pre-commit.com/#badging-your-repository" target="_blank" rel="noreferrer">ä½¿ç”¨å¾½æ ‡æ ‡è®°ä½ çš„å­˜å‚¨åº“</a></li><li><a href="https://pre-commit.com/#github-actions-example" target="_blank" rel="noreferrer">ä¸ GitHub Action çš„é›†æˆ</a></li></ul>`,56)])])}const m=i(t,[["render",l]]);export{c as __pageData,m as default};
